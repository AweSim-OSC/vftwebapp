(function() {
  var row_id = "#session_row_<%= @session.id %>";
  var row = $(row_id);
  var new_row = $("<%= j render "row", session: @session %>");
  if (row.length) {
    <%# If row exists, then remove it and re-add it %>
    sessionTable.row(row).remove();
    sessionTable.row.add(new_row);
    sessionTable.draw();
  } else {
    <%# If session row doesn't exist then add it and re-sort so it is at the top %>
    sessionTable.row.add(new_row);
    sessionTable.order([4, "desc"]).draw();
  }
})();
